<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Slider - Range with fixed minimum</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
  
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
  <script>
 
  $( function() {
	var m_e_b=["100","110","120","130","140","150","160","170","180","190","200","210",	"220","230","240","250","260","270","280","290","300","310","320","330","340","350","360","370","380","390","400","410","420","430","440","450","460","470","480","490","500"]
	var pv_system = ["3.0","3.2","3.4","3.5","3.7","3.9","4.1","4.3","4.4","4.6","4.8","5.0","5.2","5.3","5.5",	"5.7",	"5.9"	,"6.1"	,"6.2"	,"6.4",	"6.6",	"6.8",	"7.0",	"7.1"	,"7.3",	"7.5",	"7.7"	,"7.9",	"8.0",	"8.2",	"8.4",	"8.6",	"8.8",	"8.9"	,"9.1"	,"9.3",	"9.5",	"9.7",	"9.8",	"10.0",	"10.2"]
	var s_p_m=["$90",	"$100",	"$110",	"$120",	"$130",	"$140",	"$150",	"$160",	"$170",	"$180",	"$190",	"$200",	"$210",	"$220",	"$230",	"$240",	"$250","$270","$280",	"$290",	"$300",	"$310",	"$320",	"$330",	"$340",	"$350",	"$360",	"$370",	"$380",	"$390",	"$400",	"$410",	"$420",	"$430",	"$440",	"$450",	"$460",	"$470",	"$480"	,"$490"];
	var s_y_1=["$1,081","$1,201",	"$1,321","$1,442","$1,562","$1,682","$1,802","$1,922","$2,043","$2,163","$2,283","$2,403","$2,522","$2,642","$2,762","$2,882","$3,001","$3,121","$3,241","$3,360","$3,480","$3,600","$3,720","$3,841","$3,961","$4,081","$4,201","$4,321","$4,442","$4,562","$4,682","$4,802","$4,921","$5,041","$5,161","$5,281","$5,400","$5,520","$5,640","$5,759","$5,879"];
var s_y_25=["$47,841","$53,162","$58,484","$63,805","$69,127","$74,448","$79,769","$85,091","$90,412","$95,734","$101,055","$106,357","$111,658","$116,960","$122,261","$127,563","$132,864","$138,166","$143,467","$148,769","$154,070","$159,391","$164,713","$170,034","$175,356","$180,677","$185,998","$191,320","$196,641","$201,963","$207,284","$212,586","$217,887","$223,189","$228,490","$233,792","$239,093","$244,395","$249,696","$254,998","$260,299"];

var n_c_p = ["$9,023","$9,263","$9,502","$9,742","$9,982","$10,222","$10,461","$10,701","$10,941","$11,180","$11,420","$11,702","$11,985","$12,267","	$12,550","$12,832","$13,114","$13,397","$13,679","$13,962","$14,244","$14,642","$15,040","$15,439","$15,837","$16,235","$16,633","$17,031","$17,430","$17,828","$18,226","$18,494","$18,762","$19,030","$19,298","$19,567","$19,835","$20,103","$20,371","$20,639","$20,907"];

	var payback=["7.2",	"6.9",	"6.7"	,"6.4",	"6.2",	"5.9",	"5.6",	"5.4",	"5.1",	"4.9",	"4.6",	"4.5",	"4.4",	"4.4",	"4.3",	"4.2",	"4.1",	"4.0","4.0",	"3.9",	"3.8",	"3.8",	"3.8",	"3.8",	"3.8",	"3.8",	"3.7",	"3.7",	"3.7",	"3.7",	"3.7",	"3.7",	"3.6",	"3.6",	"3.6",	"3.6",	"3.5",	"3.5",	"3.5",	"3.4",	"3.4"];
	var r_o_r = ["15%",	"16%",	"17%",	"18%",	"19%",	"20%",	"20%",	"21%",	"22%",	"23%",	"24%",	'25%',	"25%",	"26%",	"26%",	"27%",	"27%",	"28%",	"28%",	"29%",	"29%",	"29%",	"29%",	"29%",	"29%",	"30%",	"30%",	"30%",	"30%",	"30%",	"30%",	"30%",	"31%",	"31%",	"31%",	"32%",	"32%",	"32%",	"32%",	"33%",	"33%"];
	var u_l_p=["$81",	"$83",	"$85",	"$88",	"$90",	"$92",	"$94",	"$96",	"$99",	"$101",	"$103","$106",	"$108",	"$111",	"$113",	"$116",	"$118",	"$121",	"$123",	"$126",	"$128",	"$132",	"$135",	"$139",	"$142",	"$146",	"$150",	"$153",	"$157",	"$160",	"$164",	"$166",	"$169"	,"$171",	"$174",	"$176",	"$178",	"$181",	"$183",	"$186",	"$188"];
	var p_f_p=["77","79","81","83","85","87","89","91","93","95","97","99","102","104","107","109","111","114","116","119","121","124","128","131","135","138","141","145","148","152","155","157","160","162","164","167","169","171","173","176","178"];
	var l_p=["83","85","87","89","91","93","95","97","99","101","103","105","108","110","113","115","117","120","122","125","127","130","134","137","140","144","147","150","153","157","160","162","164","167","169","171","173","175","178","180","182"];
	var a_s_n=["0.44","0.45","0.46","0.47","0.48","0.50","0.51","0.52","0.53","0.54","0.55","0.56","0.56","0.57","0.57","0.58","0.58","0.59","0.59","0.60","0.60","0.60","0.61","0.61","0.61","0.62","0.62","0.62","0.62","0.63","0.63","0.63","0.63","0.64","0.64","0.64","0.64","0.64","0.65","0.65","0.65"];
	var a_s_t=["0.22","0.23","0.23","0.24","0.24","0.25","0.26","0.26","0.27","0.27","0.28","0.28","0.28","0.29","0.29","0.29","0.29","0.29","0.30","0.30","0.30","0.30","0.30","0.31","0.31","0.31","0.31","0.31","0.32","0.32","0.32","0.32","0.32","0.32","0.32","0.33","0.33","0.33","0.33","0.33","0.33"];
	var s_d_l=["0.31","0.30","0.30","0.29","0.28","0.28","0.27","0.26","0.25","0.25","0.24","0.24","0.23","0.23","0.23","0.23","0.22","0.22","0.22","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.21","0.20","0.20","0.20","0.20","0.20"];
	var s_d_p=["0.16","0.16","0.15","0.15","0.15","0.15","0.14","0.14","0.14","0.13","0.13","0.13","0.13","0.12","0.12","0.12","0.12","0.12","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11"];
	var s_d_u=["0.10","0.10","0.10","0.09","0.09","0.09","0.09","0.09","0.08","0.08","0.08","0.08","0.08","0.08","0.08","0.08","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07","0.07"];
	var s_c_p=["0.08","0.08","0.08","0.07","0.07","0.07","0.07","0.07","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.06","0.05","0.05","0.05","0.05","0.05"];
	
	var indexArr =[];
	var count=0;
	//for(var i=100;i<=500;i+10){
	for (var i = 100; i < 501; i += 10) {
//console.log('i:'+i+',count:'+count);
		indexArr[i] = count;
		count++;
	}
	//console.log(indexArr[100]);
	placeData(selectedData(10));
    $( "#slider-range-min" ).slider({
      range: "min",
      value: 200,
      min: 100,
      max: 500,
	  step: 10,
      slide: function( event, ui ) {
		  var returnedData={};
		  var selected = ui.value;
		  returnedData = selectedData(indexArr[selected]);			
		  placeData(returnedData);
		 
        $( "#amount" ).val( "$" + ui.value );
      }
    });
	function selectedData(index){
		//console.log(m_e_b[index]);
//console.log(m_e_b);return false
		var newDataArr=[];
		newDataArr["m_e_b"] = m_e_b[index];
		//newDataArr.m_e_b= m_e_b.index;
		newDataArr["pv_system"]= pv_system[index];
		newDataArr["s_p_m"]=s_p_m[index];
		newDataArr["s_y_1"]=s_y_1[index];
		newDataArr["s_y_25"]=s_y_25[index];
		newDataArr["n_c_p"]=n_c_p[index];
		newDataArr["payback"]=payback[index];
		newDataArr["r_o_r"]=r_o_r[index];
		newDataArr["u_l_p"]=u_l_p[index];
		newDataArr["p_f_p"]=p_f_p[index];
		newDataArr["l_p"]=l_p[index];
		newDataArr["a_s_n"]=a_s_n[index];
		newDataArr["a_s_t"]=a_s_t[index];
		newDataArr["s_d_l"]=s_d_l[index];
		newDataArr["s_d_p"]=s_d_p[index];
		newDataArr["s_d_u"]=s_d_u[index];					
		newDataArr["s_c_p"]=s_c_p[index];
	
		//console.log(newDataArr);
		return newDataArr;
		
	}
	function placeData(selectedData){
		$('#saving_per_month').text(selectedData.s_p_m);
		$('#saving_year_1').text(selectedData.s_y_1);
		$('#saving_25_years').text(selectedData.s_y_25);
		$('#net_cash_price').text(selectedData.n_c_p);
		$('#payback').text(selectedData.payback);
		$('#rate_of_return').text(selectedData.r_o_r);
		$('#unsecured_12_years').text(selectedData.u_l_p);
		$('#peace_20_years').text(selectedData.p_f_p);
		$('#lease_25_years').text(selectedData.l_p);
		
		var width_a_s_n=((selectedData.a_s_n).replace("$", ""))*100;
		var width_a_s_t=((selectedData.a_s_t).replace("$", ""))*100;
		var width_s_d_l=((selectedData.s_d_l).replace("$", ""))*100;
		var width_s_d_p=((selectedData.s_d_p).replace("$", ""))*100;
		var width_s_d_u=((selectedData.s_d_u).replace("$", ""))*100;
		var width_s_c_p=((selectedData.s_c_p).replace("$", ""))*100;
		
		$('#average_sdg_next_25_years').attr('style','width:'+width_a_s_n+'%')
		$('#average_sdg_next_25_years_val').text(selectedData.a_s_n+'/kWh')

		$('#average_sdg_today').attr('style','width:'+width_a_s_t+'%')
		$('#average_sdg_today_val').text(selectedData.a_s_t+'/kWh')

		$('#solar_0_down_lease').attr('style','width:'+width_s_d_l+'%')
		$('#solar_0_down_lease_val').text(selectedData.s_d_l+'/kWh')

		$('#solar_0_down_pease').attr('style','width:'+width_s_d_p+'%')
		$('#solar_0_down_pease_val').text(selectedData.s_d_p+'/kWh')

		$('#solar_0_down_unsecured').attr('style','width:'+width_s_d_u+'%')
		$('#solar_0_down_unsecured_val').text(selectedData.s_d_u+'/kWh')

		$('#solar_cash_purchase').attr('style','width:'+width_s_c_p+'%')
		$('#solar_cash_purchase_val').text(selectedData.s_c_p+'/kWh')
	}
    $( "#amount" ).val( "$" + $( "#slider-range-min" ).slider( "value" ) );
  } );
  </script>
  <style>
  body {
	font-family: Arial, Helvetica, sans-serif;
}

table {
	font-size: 1em;
}

.ui-draggable, .ui-droppable {
	background-position: top;
}
  </style>
</head>
<body>
 
<p>
  <label for="amount">Maximum price:</label>
  <input type="text" id="amount" readonly style="border:0; color:#f6931f; font-weight:bold;">
</p>
 
<div id="slider-range-min"></div>
 <br/><br/>
 <div>
 <table>
 <tr>
 <td><b>saving per month: </b></td> 
 <td id="saving_per_month"></td>

 <td><b>saving year 1: </b></td> 
 <td id="saving_year_1"></td>

 <td><b>saving over 25 years: </b></td> 
 <td id="saving_25_years"></td>
 </tr>
 <tr> </tr> <tr> </tr> <tr> </tr>
  <tr>
 <td><b>Net Cash Price: </b></td> 
 <td id="net_cash_price"></td>

 <td><b>Payback: </b></td> 
 <td id="payback"></td>

 <td><b>Rate or return: </b></td> 
 <td id="rate_of_return"></td>
 </tr>
 <tr> </tr>
  <tr> </tr> <tr> </tr>
  <tr>
 <td><b>Unsecured -12 yrs: </b></td> 
 <td id="unsecured_12_years"></td>

 <td><b>Peace - 20 yrs: </b></td> 
 <td id="peace_20_years"></td>

 <td><b>Lease - 25 yrs: </b></td> 
 <td id="lease_25_years"></td>
 </tr>
 </table>
 <style>
 .divformat{
	background-color: blue; width: 100%; height: 27px;
 }
 </style>

 <br/><br/><br/><br/>
 <span>
Average SDG&E Next 25 Years
 <div class="divformat" id="average_sdg_next_25_years" style="">

 </div><span id="average_sdg_next_25_years_val">$/kWh</span>
 </span>
<br/><br/>
  <span>
Average SDG&E Today
 <div class="divformat" id="average_sdg_today" style="">

 </div><span id="average_sdg_today_val">$/kWh</span>
 </span>
<br/><br/>

  <span>
Solar $0 Down Lease
 <div class="divformat" id="solar_0_down_lease" style="">

 </div><span id="solar_0_down_lease_val">$/kWh</span>
 </span>
<br/><br/>
  <span>
Solar $0 Down PACE
 <div class="divformat" id="solar_0_down_pease" style="">

 </div><span id="solar_0_down_pease_val">$/kWh</span>
 </span>

   <span>
Solar $0 Down Unsecured 
 <div class="divformat" id="solar_0_down_unsecured" style="">

 </div><span id="solar_0_down_unsecured_val">$/kWh</span>
 </span>
<br/><br/>
  <span>
Solar Cash Purchase
 <div class="divformat" id="solar_cash_purchase" style="">

 </div><span id="solar_cash_purchase_val">$/kWh</span>
 </span>

</div>
</body>
</html>